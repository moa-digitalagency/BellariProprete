{% extends 'admin/base.html' %}

{% block title %}{% if testimonial %}Modifier{% else %}Ajouter{% endif %} un témoignage - Admin{% endblock %}

{% block content %}
<div class="mb-8">
    <a href="{{ url_for('admin_testimonials') }}" class="text-gray-500 hover:text-primary transition mb-4 inline-block">
        <i class="fas fa-arrow-left mr-2"></i>Retour aux témoignages
    </a>
    <h1 class="text-3xl font-bold text-dark">{% if testimonial %}Modifier{% else %}Ajouter{% endif %} un témoignage</h1>
</div>

<div class="bg-white rounded-2xl shadow-sm p-8 max-w-2xl">
    <form method="POST" class="space-y-6">
        <div>
            <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">Nom du client</label>
            <input type="text" id="name" name="name" required
                   value="{{ testimonial.name if testimonial else '' }}"
                   class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition">
        </div>
        
        <div>
            <label for="content" class="block text-sm font-semibold text-gray-700 mb-2">Témoignage</label>
            <textarea id="content" name="content" rows="4" required
                      class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition resize-none">{{ testimonial.content if testimonial else '' }}</textarea>
        </div>
        
        <div>
            <label for="rating" class="block text-sm font-semibold text-gray-700 mb-2">Note (1-5)</label>
            <select id="rating" name="rating" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition">
                {% for i in range(1, 6) %}
                <option value="{{ i }}" {% if testimonial and testimonial.rating == i %}selected{% elif not testimonial and i == 5 %}selected{% endif %}>{{ i }} étoile{% if i > 1 %}s{% endif %}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="flex space-x-4">
            <button type="submit" class="bg-primary text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-600 transition">
                {% if testimonial %}Enregistrer{% else %}Ajouter{% endif %}
            </button>
            <a href="{{ url_for('admin_testimonials') }}" class="px-8 py-3 border border-gray-200 rounded-xl font-semibold hover:bg-gray-50 transition">
                Annuler
            </a>
        </div>
    </form>
</div>
{% endblock %}
